<head>
    <title>Notes Generator</title>
    <meta charset="utf-8">
	<link href='https://fonts.googleapis.com/css?family=Permanent Marker' rel='stylesheet'>
    <link rel="stylesheet" href="main.css" type="text/css" />
</head>
<body>
    <script> 
        function handleData()
            {
                var location = "";
                var theory = [];
                var summary = "";
                var diagnosis = "";
                var form_data = new FormData(document.querySelector("form"));
                for(var pair of form_data.entries()) 
                {
                    var id = pair[0];
                    switch(id) {
                        case 'location':
                            location = pair[1];
                            break;
                        case 'diagnosis':
                            diagnosis = pair[1];
                            break;
                        case 'theory':
                            if (typeof theory[0] !== 'undefined') {
                                theory[1] = pair[1];
                            } else {
                                theory[0] = pair[1];
                            }
                            break;
                        case 'summary':
                            summary = pair[1];
                            break;
                    }
                }
                var sentence1 = "The clinician met with the client " + location + " to treat their diagnosis of " + diagnosis + ".";
                if (theory.length == 1) {
                    var sentence2 = "The clinician utilized " + theory[0] + " to support the client in building their skills.";
                } else {
                    var sentence2 = "The clinician utilized " + theory[0] + " " + theory[1] + " to support the client in building their skills."
                                }
                var sentence3 = summary;
                var note = sentence1 + " " + sentence2 + " " + sentence3;
                var win = window.open("", "Note", "toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=900,height=300");
                win.document.body.innerHTML = note;
            }
    </script>
    <div align="center">
        <h1 style="color:#3a24ca"><p>Counseling Session Notes Generator</p></h1>
    <!-- <form action="//www.html.am/html-codes/forms/html-form-tag-action.cfm" target="result2" method="get"> -->
        <div class="p-2">
            <form onsubmit="return handleData()">
                <p>Session location:</p>
                <div>
                <input type="checkbox" name="location" id="location_in person" value="in person" > <label for="location_in person">in person</label>
                </div>
                <div>
                <input type="checkbox" name="location" id="location_via telehealth" value="via telehealth"> <label for="location_via telehealth">via telehealth</label>
                </div>
                <p>Client's diagnosis:</p>
                <div>
                <input type="checkbox" name="diagnosis" id="diagnosis_Unspecified Anxiety Disorder" value="Unspecified Anxiety Disorder" > <label for="diagnosis_Unspecified Anxiety Disorder">Unspecified Anxiety Disorder</label>
                </div>
                <div>
                <input type="checkbox" name="diagnosis" id="diagnosis_Generalized Anxiety Disorder" value="Generalized Anxiety Disorder" > <label for="Generalized Anxiety Disorder">Generalized Anxiety Disorder</label>
                </div>
                <div>
                <input type="checkbox" name="diagnosis" id="diagnosis_Adjustment Disorder" value="Adjustment Disorder" > <label for="Adjustment Disorder">Adjustment Disorder</label>
                </div> 
                <div>
                <input type="checkbox" name="diagnosis" id="diagnosis_Major Depressive Disorder" value="Major Depressive Disorder" > <label for="Adjustment Disorder">Major Depressive Disorder</label>
                </div>
                <div>
                <input type="checkbox" name="diagnosis" id="diagnosis_Autism Spectrum Disorder" value="Autism Spectrum Disorder"> <label for="diagnosis_Autism Spectrum Disorder">Autism Spectrum Disorder</label>
                </div>
                <div>
                <input type="checkbox" name="diagnosis" id="diagnosis_Adjustment Disorder" value="Adjustment Disorder"> <label for="diagnosis_Adjustment Disorder">Adjustment Disorder</label>
                </div>
                <div>
                <input type="checkbox" name="diagnosis" id="diagnosis_Posttraumatic Stress Disorder" value="Posttraumatic Stress Disorder"> <label for="diagnosis_Posttraumatic Stress Disorder">Posttraumatic Stress Disorder</label>
                </div>
                <p>Clinical theory used:</p>
                <div>
                <input type="checkbox" name="theory" id="theory_trauma-informed" value="trauma-informed" > <label for="theory_trauma-informed">trauma-informed</label>
                </div>                
                <div>
                <input type="checkbox" name="theory" id="theory_resiliency-centered counseling" value="resiliency-centered counseling" > <label for="theory_resiliency-centered counseling">resiliency-centered counseling</label>
                </div>
                <div>
                <input type="checkbox" name="theory" id="theory_drama therapy" value="drama therapy"> <label for="theory_drama therapy">drama therapy</label>
                </div>
                <div>
                <input type="checkbox" name="theory" id="theory_play therapy" value="play therapy" > <label for="theory_play therapy">play therapy</label>
                </div>
                <div>
                <input type="checkbox" name="theory" id="theory_cognitive behavioral therapy" value="cognitive behavioral therapy"> <label for="theory_cognitive behavioral therapy">cognitive behavioral therapy</label>
                </div>
                <div>
                <input type="checkbox" name="theory" id="theory_dialectical behavioral therapy" value="dialectical behavioral therapy" > <label for="theory_dialectical behavioral therapy">dialectical behavioral therapy</label>
                </div>
                <div>
                <input type="checkbox" name="theory" id="theory_person-centered therapy" value="person-centered therapy" > <label for="theory_person-centered therapy">person-centered therapy</label>
                </div>
                <p>Session summary:</p>
                <div>
                <input type="text" name="summary" id="note" value="The client . The session took place date at time for 55 minutes. - MNS" >
                </div>
            <div>
            <input type="submit" name="submit" value="Submit"/>
            </div>
            </form>
            </div>
</body>